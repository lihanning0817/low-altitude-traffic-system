# ä½ç©ºäº¤é€šç³»ç»Ÿ - Dev Container å¼€å‘ç¯å¢ƒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

è¿™ä¸ªé¡¹ç›®å·²ç»é…ç½®äº†Dev Containerå¼€å‘ç¯å¢ƒï¼Œæ‚¨çš„æœ‹å‹å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤ç›´æ¥å¼€å§‹å¼€å‘ï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£…ä»»ä½•ä¾èµ–ã€‚

### å‰ç½®è¦æ±‚

æ‚¨çš„æœ‹å‹éœ€è¦åœ¨æœ¬åœ°å®‰è£…ï¼š

1. **Docker Desktop** (Windows/Mac) æˆ– **Docker Engine** (Linux)
   - ä¸‹è½½ï¼šhttps://www.docker.com/products/docker-desktop

2. **Visual Studio Code**
   - ä¸‹è½½ï¼šhttps://code.visualstudio.com/

3. **Dev Containers æ‰©å±•**
   - åœ¨VSCodeä¸­æœç´¢å¹¶å®‰è£… "Dev Containers" æ‰©å±•

### ğŸ”§ ä½¿ç”¨æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <é¡¹ç›®åœ°å€>
   cd low-altitude-traffic-system
   ```

2. **åœ¨VSCodeä¸­æ‰“å¼€é¡¹ç›®**
   ```bash
   code .
   ```

3. **å¯åŠ¨Dev Container**
   - VSCodeä¼šè‡ªåŠ¨æ£€æµ‹åˆ°`.devcontainer`é…ç½®
   - å³ä¸‹è§’ä¼šå¼¹å‡ºæç¤ºï¼š"Reopen in Container"ï¼Œç‚¹å‡»ç¡®è®¤
   - æˆ–è€…ä½¿ç”¨å‘½ä»¤é¢æ¿ (Ctrl+Shift+P)ï¼Œè¾“å…¥ "Dev Containers: Reopen in Container"

4. **ç­‰å¾…ç¯å¢ƒæ„å»º**
   - é¦–æ¬¡è¿è¡Œä¼šä¸‹è½½å’Œæ„å»ºDockeré•œåƒï¼ˆå¯èƒ½éœ€è¦10-15åˆ†é’Ÿï¼‰
   - åç»­å¯åŠ¨ä¼šå¾ˆå¿«ï¼ˆ1-2åˆ†é’Ÿï¼‰

5. **å¼€å§‹å¼€å‘ï¼**
   - ç¯å¢ƒå·²ç»åŒ…å«æ‰€æœ‰å¿…è¦çš„å·¥å…·å’Œä¾èµ–
   - æ•°æ®åº“ä¼šè‡ªåŠ¨å¯åŠ¨å¹¶åˆå§‹åŒ–

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒåŒ…å«

### å‰ç«¯å¼€å‘
- **Node.js** (æœ€æ–°LTSç‰ˆæœ¬)
- **Vue CLI** å’Œç›¸å…³å·¥å…·
- **npm** åŒ…ç®¡ç†å™¨
- **ESLint** ä»£ç æ£€æŸ¥
- **Prettier** ä»£ç æ ¼å¼åŒ–

### åç«¯å¼€å‘
- **C++17** å¼€å‘ç¯å¢ƒ
- **CMake** æ„å»ºç³»ç»Ÿ
- **vcpkg** åŒ…ç®¡ç†å™¨
- **GDB** è°ƒè¯•å™¨
- é¢„å®‰è£…çš„ C++ åº“ï¼š
  - httplib (HTTPæœåŠ¡å™¨)
  - nlohmann/json (JSONå¤„ç†)
  - OpenSSL (åŠ å¯†)
  - libmysql (æ•°æ®åº“è¿æ¥)
  - ixwebsocket (WebSocket)

### æ•°æ®åº“
- **MySQL 8.0**
- é¢„é…ç½®çš„æ•°æ®åº“å’Œç”¨æˆ·
- è‡ªåŠ¨åŠ è½½æ•°æ®åº“æ¶æ„

### å¼€å‘å·¥å…·
- **Git** ç‰ˆæœ¬æ§åˆ¶
- **MySQLå®¢æˆ·ç«¯**
- **è°ƒè¯•å·¥å…·** (GDB, Valgrind)

## ğŸ“‹ å¿«é€Ÿå‘½ä»¤

æ‰“å¼€VSCodeç»ˆç«¯åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

### å‰ç«¯å¼€å‘
```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run serve
# æˆ–ä½¿ç”¨å¿«æ·è„šæœ¬
./run-frontend.sh

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä»£ç æ£€æŸ¥
npm run lint
```

### åç«¯å¼€å‘
```bash
# æ„å»ºåç«¯
./build-backend.sh

# æˆ–æ‰‹åŠ¨æ„å»º
cd backend/build
cmake -DCMAKE_TOOLCHAIN_FILE=$VCPKG_ROOT/scripts/buildsystems/vcpkg.cmake ..
make -j$(nproc)

# è¿è¡Œåç«¯
./backend/build/low_altitude_traffic_system_backend
```

### æ•°æ®åº“æ“ä½œ
```bash
# è¿æ¥æ•°æ®åº“
mysql -h mysql -u appuser -papppassword low_altitude_traffic

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
mysql -h mysql -u appuser -papppassword -e "SELECT 'Database connection successful!' as status;"
```

## ğŸŒ è®¿é—®åœ°å€

å¼€å‘ç¯å¢ƒå¯åŠ¨åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **å‰ç«¯åº”ç”¨**: http://localhost:5173
- **åç«¯API**: http://localhost:8080
- **æ•°æ®åº“**: localhost:3306

## âš¡ VSCode åŠŸèƒ½

### è°ƒè¯•æ”¯æŒ
- **F5**: å¯åŠ¨C++åç«¯è°ƒè¯•
- **Ctrl+F5**: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
- æ”¯æŒæ–­ç‚¹è°ƒè¯•å’Œå˜é‡æ£€æŸ¥

### ä»»åŠ¡å¿«æ·é”®
ä½¿ç”¨ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œç„¶åè¾“å…¥ï¼š
- `Tasks: Run Task` æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ä»»åŠ¡
- åŒ…æ‹¬æ„å»ºã€è¿è¡Œã€æµ‹è¯•ç­‰ä»»åŠ¡

### å†…ç½®ç»ˆç«¯
- è‡ªåŠ¨é…ç½®å¥½ç¯å¢ƒå˜é‡
- æ”¯æŒå¤šä¸ªç»ˆç«¯æ ‡ç­¾
- é¢„è®¾å·¥ä½œç›®å½•

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

å¦‚éœ€ä¿®æ”¹å¼€å‘ç¯å¢ƒé…ç½®ï¼Œå¯ä»¥ç¼–è¾‘ä»¥ä¸‹æ–‡ä»¶ï¼š

- `.devcontainer/devcontainer.json` - ä¸»é…ç½®
- `.devcontainer/docker-compose.dev.yml` - æœåŠ¡é…ç½®
- `.devcontainer/Dockerfile.dev` - å®¹å™¨é•œåƒ
- `.vscode/settings.json` - VSCodeè®¾ç½®
- `.vscode/launch.json` - è°ƒè¯•é…ç½®
- `.vscode/tasks.json` - ä»»åŠ¡é…ç½®

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å®¹å™¨å¯åŠ¨å¤±è´¥**
   - ç¡®ä¿Dockeræ­£åœ¨è¿è¡Œ
   - æ£€æŸ¥ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³
   - é‡å¯Docker Desktop

2. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   - ç­‰å¾…MySQLå®¹å™¨å®Œå…¨å¯åŠ¨ï¼ˆé€šå¸¸éœ€è¦30ç§’ï¼‰
   - æ£€æŸ¥ `.devcontainer/setup.sh` ä¸­çš„è¿æ¥æµ‹è¯•

3. **ç«¯å£å†²çª**
   - ç¡®ä¿ç«¯å£5173ã€8080ã€3306æ²¡æœ‰è¢«å…¶ä»–ç¨‹åºå ç”¨
   - å¯ä»¥ä¿®æ”¹ `.devcontainer/docker-compose.dev.yml` ä¸­çš„ç«¯å£æ˜ å°„

4. **æ„å»ºå¤±è´¥**
   - æ¸…ç†Dockerç¼“å­˜ï¼š`docker system prune`
   - é‡æ–°æ„å»ºå®¹å™¨

### è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹VSCodeçš„Dev Containeræ—¥å¿—
2. æ£€æŸ¥Dockerå®¹å™¨çŠ¶æ€ï¼š`docker ps`
3. æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š`docker logs <container-name>`

## ğŸ“ æ³¨æ„äº‹é¡¹

- é¦–æ¬¡è¿è¡Œéœ€è¦ä¸‹è½½è¾ƒå¤§çš„Dockeré•œåƒ
- å»ºè®®åœ¨ç¨³å®šçš„ç½‘ç»œç¯å¢ƒä¸‹åˆå§‹åŒ–
- ä»£ç æ–‡ä»¶ä¼šè‡ªåŠ¨åŒæ­¥åˆ°å®¹å™¨ä¸­
- å®¹å™¨å†…çš„æ–‡ä»¶ä¿®æ”¹ä¼šå®æ—¶åæ˜ åˆ°æœ¬åœ°

---

**ç°åœ¨æ‚¨çš„æœ‹å‹åªéœ€è¦å®‰è£…Dockerå’ŒVSCodeï¼Œå°±å¯ä»¥ç«‹å³å¼€å§‹å¼€å‘äº†ï¼** ğŸ‰